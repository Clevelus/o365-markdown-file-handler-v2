@model MarkdownFileHandler.Models.AsyncActionModel
@{
    Layout = "~/Views/Shared/_LayoutAsyncJob.cshtml";
    ViewBag.Title = "Creating ZIP archive";
}

<h2>Creating ZIP archive...</h2>

<!-- Loading animation -->
<div class="windows8" id="divLoadingSpinner"><div class="wBall" id="wBall_1"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_2"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_3"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_4"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_5"><div class="wInnerBall"></div></div></div>

<div id="asyncResults">
  @{ Html.RenderPartial("AsyncJobStatus", Model); }
</div>

@section scripts
{
  <script type="text/javascript">
    var refreshTimerId = 0;
    var refreshStatus = function() {
        $("#asyncResults").load('@(Url.Action("GetAsyncJobStatus", "FileHandler", null, Request.Url.Scheme))?identifier=@Model.JobIdentifier');
    }
  </script>
}
